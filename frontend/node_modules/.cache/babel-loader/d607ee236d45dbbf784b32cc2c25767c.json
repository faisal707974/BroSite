{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project 2\\\\frontend\\\\src\\\\pages\\\\Brocamp\\\\TechTasks\\\\TechTasks.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport './TechTasks.scss';\nimport Sidebar from \"../../../components/Sidebar/Sidebar\";\nimport { BrocampTabs } from \"../../../constants/PageTabs/Manager\";\nimport PageHead from \"../../../components/General/PageHead/PageHead\";\nimport axiosInstance from \"../../../axios\";\nimport AceEditor from \"react-ace\";\nimport axios from \"axios\";\nimport \"ace-builds/src-noconflict/mode-java\";\nimport \"ace-builds/src-noconflict/theme-github\";\nimport \"ace-builds/src-noconflict/ext-language_tools\";\nimport { useSelector } from \"react-redux\";\nimport { set } from \"react-hook-form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TechTasks() {\n  _s();\n\n  const [user, setUser] = useState(useSelector(state => state.Login.userInfo)); // const user = \n  // const user = {\n  //     Name: \"m fai\",\n  //     Week: 1,\n  //     password: \"$2a$10$3I9vOYXVby30BfJFv5JK2uB1FhdfQ7nmkcKzTDFUQd5ESXc5zn05y\",\n  //     role: \"BroCamp\",\n  //     _id: \"629454ecca733971cd696c78\",\n  // }\n\n  const [questions, setQuestions] = useState();\n  const [currQuestion, setCurrQuestion] = useState(0);\n  useEffect(() => {\n    async function getTechTasks() {\n      if (user) {\n        const response = await axios.get('http://localhost:3001/brocamp/tech_tasks/' + user._id);\n        setQuestions(response.data);\n      }\n    }\n\n    getTechTasks();\n  }, []);\n  const [currAnswer, setCurrAnswer] = useState();\n\n  async function changeQuestion(value) {\n    if (currQuestion === 0 && value === -1) {} else if (currQuestion === (questions === null || questions === void 0 ? void 0 : questions.length) - 1 && value === 1) {} else {\n      setCurrQuestion(currQuestion + value);\n    }\n\n    if (value === 1) {\n      const data = {\n        Answer: answer || '',\n        User: user._id,\n        Question: questions[currQuestion]._id,\n        Week: user.Week\n      };\n\n      try {\n        const response = await axiosInstance.post('/brocamp/techTasks/answers', data);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  }\n\n  const [answer, setAnswer] = useState();\n\n  function answerEventHandler(e) {\n    setAnswer(e);\n  }\n\n  const [answers, setAnswers] = useState();\n  useEffect(() => {\n    async function getAnswers() {\n      console.log(user);\n\n      if (user) {\n        const response = await axiosInstance.get('/brocamp/techTasks/answers/' + user._id + '/' + user.Week);\n        setAnswers(response.data);\n      }\n    }\n\n    getAnswers();\n  }, [currQuestion, user]);\n  useEffect(() => {\n    if (answers && questions) {\n      answers.forEach(obj => {\n        // console.log(questions[currQuestion]._id)\n        // console.log(obj.Question)\n        if (questions[currQuestion]._id === obj.Question) {\n          console.log(obj.Answer);\n          setCurrAnswer(obj.Answer);\n        } else {}\n      });\n    }\n  }, [answers, currQuestion]);\n  console.log({\n    currAnswer\n  }); // console.log({ currQuestion })\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"TechTasks\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        pages: BrocampTabs,\n        current: 'Tasks-Tech'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(PageHead, {\n          title: 'technical tasks'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [currQuestion + 1, \".\\xA0\\xA0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 30\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this), questions ? /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: questions[currQuestion].Question\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 29\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: currAnswer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(AceEditor, {\n          placeholder: \"Enter your answer here\",\n          mode: \"javascript\",\n          theme: \"twilight\",\n          fontSize: 16,\n          showPrintMargin: true,\n          showGutter: true,\n          highlightActiveLine: true,\n          onChange: answerEventHandler,\n          name: \"codeEditor\",\n          editorProps: {\n            $blockScrolling: false\n          },\n          defaultValue: currAnswer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => changeQuestion(-1),\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => changeQuestion(1),\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(TechTasks, \"mDdOYqiWXPscIgd0MVLhxKeXTC4=\", false, function () {\n  return [useSelector];\n});\n\n_c = TechTasks;\n\nvar _c;\n\n$RefreshReg$(_c, \"TechTasks\");","map":{"version":3,"sources":["D:/Project 2/frontend/src/pages/Brocamp/TechTasks/TechTasks.jsx"],"names":["React","useEffect","useState","Sidebar","BrocampTabs","PageHead","axiosInstance","AceEditor","axios","useSelector","set","TechTasks","user","setUser","state","Login","userInfo","questions","setQuestions","currQuestion","setCurrQuestion","getTechTasks","response","get","_id","data","currAnswer","setCurrAnswer","changeQuestion","value","length","Answer","answer","User","Question","Week","post","err","console","log","setAnswer","answerEventHandler","e","answers","setAnswers","getAnswers","forEach","obj","$blockScrolling"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport './TechTasks.scss'\r\nimport Sidebar from \"../../../components/Sidebar/Sidebar\";\r\nimport { BrocampTabs } from \"../../../constants/PageTabs/Manager\";\r\nimport PageHead from \"../../../components/General/PageHead/PageHead\";\r\nimport axiosInstance from \"../../../axios\";\r\n\r\nimport AceEditor from \"react-ace\";\r\nimport axios from \"axios\";\r\n\r\nimport \"ace-builds/src-noconflict/mode-java\";\r\nimport \"ace-builds/src-noconflict/theme-github\";\r\nimport \"ace-builds/src-noconflict/ext-language_tools\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { set } from \"react-hook-form\";\r\n\r\nexport default function TechTasks() {\r\n\r\n    const [user, setUser] = useState(useSelector((state) => state.Login.userInfo))\r\n\r\n    // const user = \r\n    // const user = {\r\n    //     Name: \"m fai\",\r\n    //     Week: 1,\r\n    //     password: \"$2a$10$3I9vOYXVby30BfJFv5JK2uB1FhdfQ7nmkcKzTDFUQd5ESXc5zn05y\",\r\n    //     role: \"BroCamp\",\r\n    //     _id: \"629454ecca733971cd696c78\",\r\n    // }\r\n\r\n    const [questions, setQuestions] = useState()\r\n    const [currQuestion, setCurrQuestion] = useState(0)\r\n    useEffect(() => {\r\n        async function getTechTasks() {\r\n            if (user) {\r\n                const response = await axios.get('http://localhost:3001/brocamp/tech_tasks/' + user._id)\r\n                setQuestions(response.data)\r\n            }\r\n        }\r\n        getTechTasks()\r\n    }, [])\r\n\r\n    const [currAnswer, setCurrAnswer] = useState()\r\n\r\n    async function changeQuestion(value) {\r\n        if (currQuestion === 0 && value === -1) {\r\n        } else if (currQuestion === questions?.length - 1 && value === 1) {\r\n        } else {\r\n            setCurrQuestion(currQuestion + value)\r\n        }\r\n\r\n        if (value === 1) {\r\n            const data = {\r\n                Answer: answer || '',\r\n                User: user._id,\r\n                Question: questions[currQuestion]._id,\r\n                Week: user.Week\r\n            }\r\n            try {\r\n                const response = await axiosInstance.post('/brocamp/techTasks/answers', data)\r\n            }\r\n            catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const [answer, setAnswer] = useState()\r\n\r\n    function answerEventHandler(e) {\r\n        setAnswer(e)\r\n    }\r\n\r\n    const [answers, setAnswers] = useState()\r\n    useEffect(() => {\r\n        async function getAnswers() {\r\n            console.log(user)\r\n            if (user) {\r\n                const response = await axiosInstance.get('/brocamp/techTasks/answers/' + user._id + '/' + user.Week)\r\n                setAnswers(response.data)\r\n            }\r\n        }\r\n        getAnswers()\r\n    }, [currQuestion, user])\r\n\r\n    useEffect(() => {\r\n        if (answers && questions) {\r\n            answers.forEach((obj) => {\r\n                // console.log(questions[currQuestion]._id)\r\n                // console.log(obj.Question)\r\n                if (questions[currQuestion]._id === obj.Question) {\r\n                    console.log(obj.Answer)\r\n                    setCurrAnswer(obj.Answer)\r\n                }\r\n                else {\r\n                }\r\n            })\r\n        }\r\n    }, [answers, currQuestion])\r\n\r\n\r\n\r\n    console.log({ currAnswer })\r\n    // console.log({ currQuestion })\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"TechTasks\">\r\n                <Sidebar pages={BrocampTabs} current={'Tasks-Tech'} />\r\n                <div>\r\n                    <PageHead title={'technical tasks'} />\r\n\r\n                    <div className=\"question\">\r\n                        <div><h3>{currQuestion + 1}.&nbsp;&nbsp;</h3></div>\r\n                        {questions ?\r\n                            <h6>{questions[currQuestion].Question}</h6>\r\n                            : null\r\n                        }\r\n                    </div>\r\n                    <p>{currAnswer}</p>\r\n                    <AceEditor\r\n                        placeholder=\"Enter your answer here\"\r\n                        mode=\"javascript\"\r\n                        theme=\"twilight\"\r\n                        fontSize={16}\r\n                        showPrintMargin={true}\r\n                        showGutter={true}\r\n                        highlightActiveLine={true}\r\n                        onChange={answerEventHandler}\r\n                        name=\"codeEditor\"\r\n                        editorProps={{ $blockScrolling: false }}\r\n                        defaultValue={currAnswer}\r\n                    />\r\n\r\n\r\n                    <div className=\"buttons\">\r\n                        <button onClick={() => changeQuestion(-1)} >Previous</button>\r\n                        <button onClick={() => changeQuestion(1)} >Next</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}