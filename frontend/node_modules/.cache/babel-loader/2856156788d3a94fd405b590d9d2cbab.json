{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project 2\\\\frontend\\\\src\\\\pages\\\\Advisor\\\\Students\\\\Students.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport './Students.scss';\nimport Sidebar from \"../../../components/Sidebar/Sidebar\";\nimport { AdvisorTabs } from \"../../../constants/PageTabs/Manager\";\nimport PageHead from \"../../../components/General/PageHead/PageHead\";\nimport axiosInstance from \"../../../axios\";\nimport { Modal } from \"react-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Students() {\n  _s();\n\n  const user = useSelector(state => state.Login.userInfo);\n  const [pendingTopicsModal, setPendingTopicsModal] = useState(false);\n  const [topics, setTopics] = useState();\n  const [currStudent, setCurrStudent] = useState();\n  const [students, setStudents] = useState();\n  const [pendingTopics, setPendingTopics] = useState();\n  useEffect(() => {\n    async function getStudents() {\n      const response = await axiosInstance.get('/advisor/students');\n      setStudents(response.data);\n    }\n\n    getStudents();\n  }, []);\n  useEffect(() => {\n    async function getPendingTopics() {\n      if (currStudent) {\n        const response = await axiosInstance.get('/advisor/students/pendingTopic/' + currStudent.id + '/' + currStudent.week);\n        setPendingTopics(response.data);\n      }\n    }\n\n    getPendingTopics();\n  }, [pendingTopicsModal]);\n  let options = [];\n\n  for (let i = 1; i <= 24; i++) {\n    options.push(i);\n  }\n\n  async function saveTopic() {\n    const data = {\n      Topic: topics,\n      Student: currStudent.id,\n      Advisor: user._id,\n      Week: currStudent.week\n    };\n    const response = await axiosInstance.post('/advisor/students/pendingTopic', data); // setTopics(response.data.Topic)\n\n    setPendingTopics([...pendingTopics, {\n      Topic: response.data.Topic\n    }]);\n  }\n\n  async function weekChange(e, id) {\n    console.log(e.target.value + '/' + id);\n    const response = await axiosInstance.put('/advisor/students/changeWeek/' + e.target.value + '/' + id);\n    const filtered = students.filter(obj => obj._id === id);\n    console.log(filtered);\n    filtered[0].Week;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Students\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        pages: AdvisorTabs,\n        current: 'Students'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(PageHead, {\n          title: 'Students'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"sl no.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Photo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Domain\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Week\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Scores\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Interviewer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Tasks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: students ? students.map((obj, index) => {\n                var _obj$Photo;\n\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: (_obj$Photo = obj.Photo) === null || _obj$Photo === void 0 ? void 0 : _obj$Photo.url,\n                      alt: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: obj.Name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: obj.Domain\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"select\", {\n                      name: \"\",\n                      id: \"\",\n                      value: obj.Week,\n                      onChange: e => weekChange(e, obj._id),\n                      children: options.map((num, index) => {\n                        return /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: num,\n                          children: num\n                        }, index, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 105,\n                          columnNumber: 65\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: \"5.6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: \"Subin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    onClick: () => {\n                      setPendingTopicsModal(true);\n                      setCurrStudent({\n                        week: obj.Week,\n                        id: obj._id\n                      });\n                    },\n                    children: \"Pending topics\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 49\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 45\n                }, this);\n              }) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: pendingTopicsModal,\n      onHide: () => setPendingTopicsModal(false),\n      className: \"PendingTopicsAdvisor\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Pending Topics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"text\",\n          onChange: e => setTopics(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-plus\",\n          onClick: saveTopic\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          children: pendingTopics && pendingTopics.map(obj => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: obj.Topic\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Students, \"GgtDjfVs0wj8ISnh+j7cXnTtzQI=\", false, function () {\n  return [useSelector];\n});\n\n_c = Students;\n\nvar _c;\n\n$RefreshReg$(_c, \"Students\");","map":{"version":3,"sources":["D:/Project 2/frontend/src/pages/Advisor/Students/Students.jsx"],"names":["React","useEffect","useState","Sidebar","AdvisorTabs","PageHead","axiosInstance","Modal","useSelector","Students","user","state","Login","userInfo","pendingTopicsModal","setPendingTopicsModal","topics","setTopics","currStudent","setCurrStudent","students","setStudents","pendingTopics","setPendingTopics","getStudents","response","get","data","getPendingTopics","id","week","options","i","push","saveTopic","Topic","Student","Advisor","_id","Week","post","weekChange","e","console","log","target","value","put","filtered","filter","obj","map","index","Photo","url","Name","Domain","num"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport './Students.scss'\r\nimport Sidebar from \"../../../components/Sidebar/Sidebar\";\r\nimport { AdvisorTabs } from \"../../../constants/PageTabs/Manager\";\r\nimport PageHead from \"../../../components/General/PageHead/PageHead\";\r\nimport axiosInstance from \"../../../axios\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport default function Students() {\r\n\r\n    const user = useSelector((state) => state.Login.userInfo)\r\n    const [pendingTopicsModal, setPendingTopicsModal] = useState(false)\r\n    const [topics, setTopics] = useState()\r\n    const [currStudent, setCurrStudent] = useState()\r\n    const [students, setStudents] = useState()\r\n    const [pendingTopics, setPendingTopics] = useState()\r\n\r\n    useEffect(() => {\r\n        async function getStudents() {\r\n            const response = await axiosInstance.get('/advisor/students')\r\n            setStudents(response.data)\r\n        }\r\n        getStudents()\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        async function getPendingTopics() {\r\n            if (currStudent) {\r\n                const response = await axiosInstance.get('/advisor/students/pendingTopic/' + currStudent.id + '/' + currStudent.week)\r\n                setPendingTopics(response.data)\r\n            }\r\n        }\r\n        getPendingTopics()\r\n    }, [pendingTopicsModal])\r\n\r\n\r\n    let options = []\r\n    for (let i = 1; i <= 24; i++) {\r\n        options.push(i)\r\n    }\r\n\r\n\r\n    async function saveTopic() {\r\n        const data = {\r\n            Topic: topics,\r\n            Student: currStudent.id,\r\n            Advisor: user._id,\r\n            Week: currStudent.week\r\n        }\r\n        const response = await axiosInstance.post('/advisor/students/pendingTopic', data)\r\n        // setTopics(response.data.Topic)\r\n        setPendingTopics([...pendingTopics, { Topic: response.data.Topic }])\r\n    }\r\n\r\n    async function weekChange(e, id) {\r\n        console.log(e.target.value + '/' + id)\r\n        const response = await axiosInstance.put('/advisor/students/changeWeek/' + e.target.value + '/' + id)\r\n        const filtered = students.filter((obj)=>\r\n            (\r\n                obj._id === id\r\n            )\r\n        )\r\n        console.log(filtered)\r\n        filtered[0].Week\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"Students\">\r\n                <Sidebar pages={AdvisorTabs} current={'Students'} />\r\n                <div>\r\n                    <PageHead title={'Students'} />\r\n                    <div className=\"content\">\r\n\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>sl no.</th>\r\n                                    <th>Photo</th>\r\n                                    <th>Name</th>\r\n                                    <th>Domain</th>\r\n                                    <th>Week</th>\r\n                                    <th>Scores</th>\r\n                                    <th>Interviewer</th>\r\n                                    <th>Tasks</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {students ?\r\n                                    students.map((obj, index) => {\r\n                                        return (\r\n                                            <tr key={index}>\r\n                                                <td>{index + 1}</td>\r\n                                                <td><img src={obj.Photo?.url} alt=\"\" /></td>\r\n                                                <td>{obj.Name}</td>\r\n                                                <td>{obj.Domain}</td>\r\n                                                <td>\r\n                                                    <select name=\"\" id=\"\" value={obj.Week} onChange={(e) => weekChange(e, obj._id)}>\r\n                                                        {options.map((num, index) => {\r\n                                                            return (\r\n                                                                <option key={index} value={num}>{num}</option>\r\n                                                            )\r\n                                                        })}\r\n                                                    </select>\r\n                                                </td>\r\n                                                <td>5.6</td>\r\n                                                <td>Subin</td>\r\n                                                <td onClick={() => { setPendingTopicsModal(true); setCurrStudent({ week: obj.Week, id: obj._id }) }}>Pending topics</td>\r\n                                            </tr>\r\n                                        )\r\n                                    })\r\n                                    : null}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Modal show={pendingTopicsModal} onHide={() => setPendingTopicsModal(false)} className='PendingTopicsAdvisor'>\r\n                <Modal.Header>\r\n                    <h5>Pending Topics</h5>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <input className=\"form-control\" type=\"text\" onChange={(e) => setTopics(e.target.value)} />\r\n                    <i className=\"fas fa-plus\" onClick={saveTopic}></i>\r\n                    <ol>\r\n                        {pendingTopics &&\r\n                            pendingTopics.map((obj) => {\r\n                                return (\r\n                                    <li>{obj.Topic}</li>\r\n                                )\r\n                            })}\r\n                    </ol>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}